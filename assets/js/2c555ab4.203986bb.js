(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{114:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=a.a.createContext({}),p=function(e){var t=a.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=p(e.components);return a.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},f=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),l=p(n),f=r,m=l["".concat(s,".").concat(f)]||l[f]||d[f]||o;return n?a.a.createElement(m,i(i({ref:t},u),{},{components:n})):a.a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=n[u];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},115:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},116:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),s=n(115),i=n(8);const c=Object(r.createContext)({collectLink:()=>{}});var u=n(117),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){var t,{isNavLink:n,to:l,href:d,activeClassName:f,isActive:m,"data-noBrokenLinkCheck":b,autoAddBaseUrl:O=!0}=e,g=p(e,["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"]);const{withBaseUrl:y}=Object(u.b)(),v=Object(r.useContext)(c),h=l||d,j=Object(s.a)(h),w=null==h?void 0:h.replace("pathname://",""),E=void 0!==w?(N=w,O&&(e=>e.startsWith("/"))(N)?y(N):N):void 0;var N;const x=Object(r.useRef)(!1),P=n?o.e:o.c,R=i.a.canUseIntersectionObserver;let D;Object(r.useEffect)((()=>(!R&&j&&window.docusaurus.prefetch(E),()=>{R&&D&&D.disconnect()})),[E,R,j]);const q=null!==(t=null==E?void 0:E.startsWith("#"))&&void 0!==t&&t,T=!E||!j||q;return E&&j&&!q&&!b&&v.collectLink(E),T?a.a.createElement("a",Object.assign({href:E},h&&!j&&{target:"_blank",rel:"noopener noreferrer"},g)):a.a.createElement(P,Object.assign({},g,{onMouseEnter:()=>{x.current||(window.docusaurus.preload(E),x.current=!0)},innerRef:e=>{var t,n;R&&e&&j&&(t=e,n=()=>{window.docusaurus.prefetch(E)},D=new window.IntersectionObserver((e=>{e.forEach((e=>{t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(D.unobserve(t),D.disconnect(),n())}))})),D.observe(t))},to:E||""},n&&{isActive:m,activeClassName:f}))}},117:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var r=n(16),a=n(115);function o(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.default)();return{withBaseUrl:(n,r)=>function(e,t,n,r){let{forcePrependBaseUrl:o=!1,absolute:s=!1}=void 0===r?{}:r;if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(o)return t+n;const i=n.startsWith(t)?n:t+n.replace(/^\//,"");return s?e+i:i}(t,e,n,r)}}function s(e,t){void 0===t&&(t={});const{withBaseUrl:n}=o();return n(e,t)}},80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(3),a=(n(0),n(114)),o=n(116);const s={title:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0438 fetch-api"},i={unversionedId:"redux/api",id:"redux/api",isDocsHomePage:!1,title:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0438 fetch-api",description:"- \u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0441\u0430\u0433\u0430\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 @mihanizm56/fetch-api",source:"@site/docs/redux/api.md",slug:"/redux/api",permalink:"/codestyle/docs/redux/api",editUrl:"https://github.com/mihanizm56/codestyle/tree/master/docs/redux/api.md",version:"current",sidebar:"someSidebar",previous:{title:"Redux magic loader",permalink:"/codestyle/docs/redux/redux-magic"},next:{title:"Eslint & Stylelint",permalink:"/codestyle/docs/formatting/linters"}},c=[],u={toc:c};function p(e){let{components:t,...n}=e;return Object(a.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0441\u0430\u0433\u0430\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 ",Object(a.b)(o.a,{to:"https://mihanizm56.github.io/fetch-api/ru/",mdxType:"Link"},"@mihanizm56/fetch-api")," "),Object(a.b)("li",{parentName:"ul"},"\u041f\u0440\u0438\u043d\u044f\u0442\u043e \u0434\u0435\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 - \u0442\u0438\u043f \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0441\u0445\u0435\u043c\u0430, \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"),Object(a.b)("li",{parentName:"ul"},"\u042d\u043d\u0434\u043f\u043e\u0438\u043d\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u043c\u0435\u0436\u0434\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 - \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u0438 \u043c\u043e\u0433\u0443\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0432 \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u0432\u043c \u0444\u0430\u0439\u043b\u0435 \u044d\u043a\u0441\u043f\u043e\u0440\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043d\u0434\u043f\u043e\u0438\u043d\u0442\u043e\u0432 \u0435\u0441\u043b\u0438 \u043e\u043d\u0438 \u0431\u0430\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u043e\u043c (/api/users/getUser, /api/users/setUser)"),Object(a.b)("li",{parentName:"ul"},"\u0412 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e \u0440\u0435\u0441\u043f\u043e\u043d\u0441\u043e\u0432 \u043f\u043e \u0441\u0445\u0435\u043c\u0430\u043c Joi. \u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0445\u0435\u043c\u044b \u0442\u0430\u043c, \u0433\u0434\u0435 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0441\u043f\u043e\u043d\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435 \u0432\u0430\u0436\u0435\u043d \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441)")),Object(a.b)("p",null,"\u251c\u2500\u2500 api\n|\xa0\xa0  \u251c\u2500\u2500 requests\n|\xa0\xa0  |   \u2514\u2500\u2500 fetch-user-data\n|\xa0\xa0  |\xa0\xa0     \u251c\u2500\u2500 index.ts - \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n|\xa0\xa0  |\xa0\xa0     \u251c\u2500\u2500 make-request-config.ts - \u043e\u0435\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n| \xa0  |\xa0\xa0     \u2514\u2500\u2500 response-schema.ts - \u043e\u0435\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430\xa0\xa0  \u2514\u2500\u2500 requests - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n|\xa0\xa0  \u2514\u2500\u2500 endpoints\n|\xa0\xa0  \xa0\xa0 \u2514\u2500\u2500 user-data - \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435\n|\xa0\xa0  \xa0\xa0     \u251c\u2500\u2500 index.ts - \u044d\u043a\u0441\u043f\u043e\u0440\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u044d\u043d\u0434\u043e\u0438\u043d\u0442\u0430\n|\xa0\xa0  \xa0\xa0     \u2514\u2500\u2500 urls.ts - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 dev/prod \u044d\u043d\u0434\u043f\u043e\u0438\u043d\u0442\u0430 (dev-\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430, prod-\u0431\u0435\u0440\u0435\u0442\u0441\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0437 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f)\n\u2514\u2500\u2500 ..."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"}," // src/api/requests/fetch-user-data/index.ts\n\nimport { IResponse, JSONRPCRequest } from '@mihanizm56/fetch-api';\nimport { makeRequestConfig, RequestParamsType } from './make-request-config';\n\nexport const fetchUserDataRequest = (\n  params: RequestParamsType,\n): Promise<IResponse> =>\n  new JSONRPCRequest().makeRequest(makeRequestConfig(params));\n")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"}," // src/api/requests/fetch-user-data/make-request-config.ts\n\nimport { IRequestParams } from '@mihanizm56/fetch-api';\nimport { requestTranslateFunction } from '@/_constants/i18next/i18next-constants';\nimport { getUserDataEndpoint } from '@/api/endpoints/user-data';\nimport { responseSchema } from './response-schema';\n\nexport type RequestParamsType = {\n  inn: string;\n  abortRequestId: string;\n};\n\nexport const makeRequestConfig = ({\n  inn,\n  abortRequestId,\n}: RequestParamsType): IRequestParams => ({\n  endpoint: getUserDataEndpoint(),\n  translateFunction: requestTranslateFunction,\n  responseSchema,\n  body: {\n    params: { inn },\n  },\n  abortRequestId,\n});\n")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"}," // src/api/requests/fetch-user-data/response-schema.ts\nimport Joi from 'joi';\n\nexport const responseSchema = Joi.object({\n  fnsError: Joi.object({\n    inn: Joi.string().allow('').required(),\n    ogrn: Joi.string().allow('').required(),\n    type: Joi.string().allow('').required(),\n  })\n    .allow(null)\n    .required(),\n});\n")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"}," // src/api/endpoints/user-data/urls.ts\n\nexport const ENDPOINT_USER_DATA_DEV = '/api/v1/user-data';\nexport const ENDPOINT_USER_DATA_PROD = window.ENDPOINT_USER_DATA;\n")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-typescript"}," // src/api/endpoints/user-data/index.ts\n\n import {\n  ENDPOINT_USER_DATA_DEV,\n  ENDPOINT_USER_DATA_PROD,\n} from './urls';\n\nexport const getUserDataEndpoint = () =>\n  process.env.NODE_ENV !== 'production'\n    ? ENDPOINT_USER_DATA_DEV\n    : ENDPOINT_USER_DATA_PROD;\n\n\nexport const getUserCreditEndpoint = (id: string) => `${getUserDataEndpoint}/credits/${id}`\n")))}p.isMDXComponent=!0}}]);